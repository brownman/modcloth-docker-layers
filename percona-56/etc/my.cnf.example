# Dropped off by Chef... do not edit!

[client]
port = 3306
socket = /mysql/db/mysql.sock

[mysqld]
user = mysql
port = 3306
socket = /mysql/db/mysql.sock
bind-address = 0.0.0.0

skip-external-locking
log_warnings
skip_name_resolv

basedir = /usr
datadir = /mysql/db

server-id = 3870
auto_increment_increment = 2
auto_increment_offset = 1

character-set-server = utf8
collation-server = utf8_unicode_ci

# InnoDB settings
innodb_data_home_dir = /mysql/db
innodb_log_group_home_dir = /mysql/db

innodb_data_file_path = ibdata1:100M:autoextend
innodb_buffer_pool_size = 64M
innodb_buffer_pool_instances = 4

innodb_log_file_size = 400M
innodb_additional_mem_pool_size = 20M
innodb_log_buffer_size = 8M
innodb_flush_log_at_trx_commit = 1
innodb_lock_wait_timeout = 20
innodb_file_per_table
innodb_doublewrite = 0
innodb_io_capacity = 20000
innodb_read_io_threads = 48
innodb_write_io_threads = 48

# All other settings
table_cache = 256
table_open_cache = 1024
table_definition_cache = 1024
thread_cache_size = 250

query_cache_type = OFF
query_cache_size = 0
query_cache_limit = 4096
query_cache_min_res_unit = 512

tmpdir = /tmp
tmp_table_size = 2048M
max_heap_table_size = 2048M
max_connections = 1000
max_allowed_packet = 32M
slave_max_allowed_packet = 32M
connect_timeout = 10
net_read_timeout = 10
net_write_timeout = 10
net_buffer_length = 16384
read_buffer_size = 16M
thread_stack = 384K
transaction-isolation = READ-UNCOMMITTED
event_scheduler = OFF
group_concat_max_len = 1024
slave_type_conversions =

# Slow query log settings
slow_query_log = OFF
slow_query_log_file = /mysql/log/slowquery.log
slow_query_log_timestamp_always = ON
slow_query_log_timestamp_precision = microsecond
slow_query_log_use_global_control = all
long_query_time = 0
log_slow_filter =
log_slow_verbosity = microtime,query_plan,innodb
log-queries-not-using-indexes = OFF

# Replication settings (master to slave)
max_binlog_size = 1000M
max-relay-log-size = 1000M
log-slave-updates
log-bin = /mysql/log/bin.log
log-error = /mysql/log/error.log
relay-log = /mysql/log/relay.log
expire_logs_days = 3
binlog_format = "ROW"


[mysqldump]
max_allowed_packet = 32M

[mysql]
no-auto-rehash
